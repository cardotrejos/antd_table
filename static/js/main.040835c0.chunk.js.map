{"version":3,"sources":["slices/data.js","pages/DataPage.js","App.js","slices/index.js","index.js"],"names":["dataSlice","createSlice","name","initialState","loading","hasErrors","data","reducers","getData","state","getDataSuccess","payload","getDataFailure","actions","dataSelector","fetchData","dispatch","a","axios","get","response","series","array","map","x","objectData","e","date","generate","unit","DataPage","useDispatch","useSelector","useEffect","style","margin","type","onClick","rowKey","rowClassName","bordered","dataSource","columns","title","dataIndex","width","defaultSortOrder","sorter","b","onChange","renderData","App","className","Component","rootReducer","combineReducers","dataReducer","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"gVASMA,EAAYC,YAAY,CAC5BC,KAAM,OACNC,aAR0B,CAC1BC,SAAS,EACTC,WAAW,EACXC,KAAM,IAMNC,SAAU,CACRC,QAAS,SAAAC,GACPA,EAAML,SAAU,GAElBM,eAAgB,SAACD,EAAD,GAAyB,IAAfE,EAAc,EAAdA,QACxBF,EAAMH,KAAOK,EACbF,EAAML,SAAU,EAChBK,EAAMJ,WAAY,GAEpBO,eAAgB,SAAAH,GACdA,EAAML,SAAU,EAChBK,EAAMJ,WAAY,M,EAKmCL,EAAUa,QAAtDL,E,EAAAA,QAASE,E,EAAAA,eAAgBE,E,EAAAA,eAE3BE,EAAe,SAAAL,GAAK,OAAIA,EAAMH,MAE5BN,IAAf,QAEO,SAASe,IACd,8CAAO,WAAMC,GAAN,qBAAAC,EAAA,6DACLD,EAASR,KADJ,kBAIoBU,IAAMC,IAAI,uGAJ9B,cAIGC,EAJH,gBAKiBA,EAASd,KAAKe,OAL/B,OAKGC,EALH,OAMGhB,EAAOgB,EAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAElB,QAAM,GAC9BmB,EAAanB,EAAKiB,KAAI,SAAAG,GAAO,MAAO,CAAEC,KAAMD,EAAE,GAAIE,SAAUF,EAAE,GAAIG,KAAM,UAE9Eb,EAASN,EAAee,IATrB,kDAWHT,EAASJ,KAXN,0DAAP,sD,qBC4BakB,G,OAvDE,WACf,IAAMd,EAAWe,cADI,EAEgBC,YAAYlB,GAAzCR,EAFa,EAEbA,KAAMF,EAFO,EAEPA,QAASC,EAFF,EAEEA,UAEvB4B,qBAAU,WACRjB,EAASD,OACR,CAACC,IAyCJ,OACE,iCACE,qCAzCe,WACjB,GAAIZ,EAAS,OAAO,gDACpB,GAAIC,EAAW,OAAO,8DAsBtB,OACE,6BACE,kBAAC,IAAD,CAAQ6B,MAAO,CAACC,OAAO,QAASC,KAAK,UAAUC,QAAStB,GAAxD,cACA,kBAAC,IAAD,CACEuB,OAAO,OACPC,aAAc,iBAAM,gBACpBC,UAAQ,EACRC,WAAYnC,EACZoC,QA5BQ,CACd,CACEC,MAAO,QACPC,UAAW,OACXC,MAAO,OAET,CACEF,MAAO,gBACPC,UAAW,WACXE,iBAAkB,CAAC,UACnBC,OAAQ,SAAC9B,EAAG+B,GAAJ,OAAU/B,EAAEW,SAAWoB,EAAEpB,WAEnC,CACEe,MAAO,WACPC,UAAW,SAePK,SAZN,SAAkBF,QAqBfG,MC3CQC,E,uKARX,OACE,yBAAKC,UAAU,OACb,sFACA,kBAAC,EAAD,W,GALUC,a,QCGHC,EAJKC,YAAgB,CAClCjD,KAAMkD,ICMFC,G,OAAQC,YAAe,CAAEC,QAASL,KAExCM,IAASC,OACL,kBAAC,IAAD,CAAUJ,MAAOA,GACf,kBAAC,EAAD,OAEJK,SAASC,eAAe,W","file":"static/js/main.040835c0.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\nexport const initialState = {\n  loading: false,\n  hasErrors: false,\n  data: [],\n}\n\nconst dataSlice = createSlice({\n  name: 'data',\n  initialState,\n  reducers: {\n    getData: state => {\n      state.loading = true\n    },\n    getDataSuccess: (state, { payload }) => {\n      state.data = payload\n      state.loading = false\n      state.hasErrors = false\n    },\n    getDataFailure: state => {\n      state.loading = false\n      state.hasErrors = true\n    },\n  },\n})\n\nexport const { getData, getDataSuccess, getDataFailure } = dataSlice.actions\n\nexport const dataSelector = state => state.data\n\nexport default dataSlice.reducer\n\nexport function fetchData() {\n  return async dispatch => {\n    dispatch(getData())\n\n    try {\n      const response = await axios.get('https://api.eia.gov/series/?api_key=f8e294cce8855b7fa91bbbd11f0e31e4&series_id=ELEC.GEN.ALL-CA-97.M')\n      const array = await response.data.series\n      const data = array.map(x => x.data)[0];\n      const objectData = data.map(e => { return { date: e[0], generate: e[1], unit: \"kWa\" }})\n\n      dispatch(getDataSuccess(objectData))\n    } catch (error) {\n      dispatch(getDataFailure())\n    }\n  }\n}","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { fetchData, dataSelector } from '../slices/data'\n\nimport { Table, Button } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst DataPage = () => {\n  const dispatch = useDispatch()\n  const { data, loading, hasErrors } = useSelector(dataSelector)\n\n  useEffect(() => {\n    dispatch(fetchData())\n  }, [dispatch])\n\n  const renderData = () => {\n    if (loading) return <p>Cargando datos...</p>\n    if (hasErrors) return <p>No se pueden mostrar los datos.</p>\n  \n  const columns = [\n    {\n      title: 'Fecha',\n      dataIndex: 'date',\n      width: '30%',\n    },\n    {\n      title: 'GeneraciÃ³n',\n      dataIndex: 'generate',\n      defaultSortOrder: ['ascend'],\n      sorter: (a, b) => a.generate - b.generate\n    },\n    {\n      title: 'Unidades',\n      dataIndex: 'unit',\n    }];\n    \n    function onChange(sorter) {\n    }\n\n    return(\n      <div>\n        <Button style={{margin:\"20px\"}} type=\"primary\" onClick={fetchData}>Actualizar</Button>\n        <Table\n          rowKey=\"date\"\n          rowClassName={() => 'editable-row'}\n          bordered\n          dataSource={data}\n          columns={columns}\n          onChange={onChange}\n        />\n      </div>\n  )\n}\n\n  return (\n    <section>\n      <h1>Datos</h1>\n      {renderData()}\n    </section>\n  )\n}\n\nexport default DataPage","import React, {Component} from 'react';\r\nimport './App.css';\r\n\r\nimport DataPage from './pages/DataPage'\r\n\r\nclass App extends Component {\r\n    render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>Summation of all fuels used for electricity generation</h1>\r\n        <DataPage />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import { combineReducers } from 'redux'\n\nimport dataReducer from './data'\n\nconst rootReducer = combineReducers({\n  data: dataReducer,\n})\n\nexport default rootReducer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './App';\r\nimport rootReducer from './slices'\r\n\r\nimport './index.css';\r\n\r\nconst store = configureStore({ reducer: rootReducer })\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}