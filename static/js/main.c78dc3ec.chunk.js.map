{"version":3,"sources":["logo.png","slices/data.js","pages/DataPage.js","App.js","slices/index.js","index.js"],"names":["module","exports","dataSlice","createSlice","name","initialState","loading","hasErrors","data","reducers","getData","state","getDataSuccess","payload","getDataFailure","actions","dataSelector","fetchData","dispatch","a","axios","get","response","series","array","map","x","objectData","e","date","generate","unit","DataPage","useDispatch","useSelector","useEffect","maxmin","reduce","current","max","min","console","log","style","margin","type","onClick","rowKey","rowClassName","row","index","classes","push","join","bordered","dataSource","columns","title","dataIndex","width","defaultSortOrder","sorter","b","renderData","Header","Layout","Content","Footer","App","className","src","logo","alt","padding","textAlign","Component","rootReducer","combineReducers","dataReducer","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c78dc3ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.327e4fbb.png\";","import { createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\nexport const initialState = {\n  loading: false,\n  hasErrors: false,\n  data: [],\n}\n\nconst dataSlice = createSlice({\n  name: 'data',\n  initialState,\n  reducers: {\n    getData: state => {\n      state.loading = true\n    },\n    getDataSuccess: (state, { payload }) => {\n      state.data = payload\n      state.loading = false\n      state.hasErrors = false\n    },\n    getDataFailure: state => {\n      state.loading = false\n      state.hasErrors = true\n    },\n  },\n})\n\nexport const { getData, getDataSuccess, getDataFailure } = dataSlice.actions\n\nexport const dataSelector = state => state.data\n\nexport default dataSlice.reducer\n\nexport function fetchData() {\n  return async dispatch => {\n    dispatch(getData())\n\n    try {\n      const response = await axios.get('https://api.eia.gov/series/?api_key=f8e294cce8855b7fa91bbbd11f0e31e4&series_id=ELEC.GEN.ALL-CA-97.M')\n      const array = await response.data.series\n      const data = array.map(x => x.data)[0];\n      const objectData = data.map(e => { return { date: e[0], generate: e[1], unit: \"kWa\" }})\n\n      dispatch(getDataSuccess(objectData))\n    } catch (error) {\n      dispatch(getDataFailure())\n    }\n  }\n}","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { fetchData, dataSelector } from '../slices/data'\n\nimport { Table, Button } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst DataPage = () => {\n  const dispatch = useDispatch()\n  const { data, loading, hasErrors } = useSelector(dataSelector)\n\n  useEffect(() => {\n    dispatch(fetchData())\n  }, [dispatch])\n\n  const renderData = () => {\n    if (loading) return <p>Cargando datos...</p>\n    if (hasErrors) return <p>No se pueden mostrar los datos.</p>\n    \n    const maxmin = data.reduce((state, current) => {\n      if (!state.max || state.max < current.generate) {\n        state.max = current.generate;\n      }\n    \n      if (!state.min || state.min > current.generate) {\n        state.min = current.generate;\n      }\n    \n      return state;\n    }, { min: null, max: null });\n  \n  const columns = [\n    {\n      title: 'Fecha',\n      dataIndex: 'date',\n      width: '30%',\n    },\n    {\n      title: 'Generación',\n      dataIndex: 'generate',\n      defaultSortOrder: ['ascend'],\n      sorter: (a, b) => a.generate - b.generate\n    },\n    {\n      title: 'Unidades',\n      dataIndex: 'unit',\n    }];\n    console.log(maxmin)\n    const getRowClassNames = (row, index) => {\n      const classes = [];\n      \n      if (row.generate === maxmin.min) {\n        classes.push('min');\n      }\n      \n      if (row.generate === maxmin.max) {\n        classes.push('max');\n      }\n\n      return classes.join(' ');\n    }\n    \n    return(\n      <div>\n        <Button style={{margin:\"20px\"}} type=\"primary\" onClick={() => dispatch(fetchData())}>Actualizar</Button>\n        <Table\n          rowKey=\"date\"\n          rowClassName={getRowClassNames}\n          bordered\n          dataSource={data}\n          columns={columns}\n        />\n      </div>  \n    )\n  }\n\n  return (\n    <section>\n      <h1>Datos</h1>\n      {renderData()}\n    </section>\n  )\n}\n\nexport default DataPage","import React, {Component} from 'react';\r\n\r\nimport DataPage from './pages/DataPage'\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport logo from './logo.png'\r\nimport { Layout } from 'antd';\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nclass App extends Component {\r\n    render() {\r\n    return (\r\n      <Layout className=\"layout\">\r\n    <Header>\r\n      <div className=\"logo\">\r\n        <img src={logo} alt=\"logo\" />\r\n      </div>\r\n    </Header>\r\n    <Content style={{ padding: '0 50px' }}>\r\n      <div className=\"site-layout-content\">\r\n        <h1>Tabla generación de energía</h1>\r\n        <DataPage />\r\n      </div>\r\n    </Content>\r\n    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ricardo Trejos</Footer>\r\n  </Layout>\r\n\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import { combineReducers } from 'redux'\n\nimport dataReducer from './data'\n\nconst rootReducer = combineReducers({\n  data: dataReducer,\n})\n\nexport default rootReducer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './App';\r\nimport rootReducer from './slices'\r\n\r\nimport './index.css';\r\n\r\nconst store = configureStore({ reducer: rootReducer })\r\n\r\nReactDOM.render(\r\n\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}